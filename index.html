<html>
<head>
<title>Tic Tac Toe 3</title>

<style type="text/css">

body{
    font-family: Arial, sans-serif;
    text-align: center;
}

h1{
    font-size: 50px;
    color: #5142a5;
    margin-bottom: 10px;
}

#turn{
    border: 3px solid black;
    width: 300px;
    margin: 10px auto;
    padding: 10px;
    font-size: 24px;
}

#boxes{
    width: 400px;
    margin: 20px auto;
}

.box{
    width: 120px;
    height: 120px;
    border: 2px solid black;
    display: inline-block;
    margin: 2px;
    font-size: 80px;
    line-height: 120px;
    vertical-align: top;
}

.box:hover {background-color: #5142a5; color: #fff;}


#winner{
    border: 3px solid black;
    width: 300px;
    margin: 20px auto;
    padding: 10px;
    font-size: 24px;
}

</style>
</head>
<body>

<h1>Speed Tic Tac Toe</h1>

<div id="turn">
</div>

<div id="boxes">

<script>
const NUM_BOXES = 9;
for (i=0; i<NUM_BOXES; i++)
{
    id = "box"+i;
    document.write( "<div class='box' id='" + id + "'></div>" );
}
</script>

</div>

<div id="winner">
No Winner Yet
</div>

//on click
<button onclick="beginGame()">Begin Game</button>

<script>
let currentPlayer;
//so we know when game is over
let game_going = false;


function beginGame()
{
    // reset board (set all boxes to empty)
    for (let i = 0; i < 9; i++)
    {
        document.getElementById("box"+i).innerHTML = "";
    }

    // generate random number and set to either X or O
    if (Math.random() < 0.5) {
        currentPlayer = "X";
    } else {
        currentPlayer = "O";
    }

    // Update
    document.getElementById("turn").innerHTML = currentPlayer + "'s Turn";

    //set game to going
    game_going = true;
}

function boxClicked()
{
    //if game isn't going, return
    if (!game_going) return;

    let box = this;
    let boxNumber = box.id.replace("box","");

    // If something is already in box, return
    if (box.innerHTML !== "") return;

    //place the current player's symbol
    box.innerHTML = currentPlayer;

    alert("box number: " + boxNumber);

    // Switch player
    //if current player X, new is O. If not X
    if (currentPlayer === "X") {
        currentPlayer = "O";
    } else {
        currentPlayer = "X";
}

    // Update
    document.getElementById("turn").innerHTML = currentPlayer + "'s Turn";
}

// loop through
for (let i = 0; i < 9; i++)
{
    //assign event handler to box
    document.getElementById("box"+i).onclick = boxClicked;
}

</script>

</body>
</html>
